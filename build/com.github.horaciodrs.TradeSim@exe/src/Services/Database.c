/* Database.c generated by valac 0.40.23, the Vala compiler
 * generated from Database.vala, do not modify */



#include <glib.h>
#include <glib-object.h>
#include <sqlite3.h>
#include <stdlib.h>
#include <string.h>
#include <stdio.h>
#include <gtk/gtk.h>
#include <float.h>
#include <math.h>


#define TRADE_SIM_SERVICES_TYPE_DATABASE (trade_sim_services_database_get_type ())
#define TRADE_SIM_SERVICES_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TRADE_SIM_SERVICES_TYPE_DATABASE, TradeSimServicesDatabase))
#define TRADE_SIM_SERVICES_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TRADE_SIM_SERVICES_TYPE_DATABASE, TradeSimServicesDatabaseClass))
#define TRADE_SIM_SERVICES_IS_DATABASE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TRADE_SIM_SERVICES_TYPE_DATABASE))
#define TRADE_SIM_SERVICES_IS_DATABASE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TRADE_SIM_SERVICES_TYPE_DATABASE))
#define TRADE_SIM_SERVICES_DATABASE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TRADE_SIM_SERVICES_TYPE_DATABASE, TradeSimServicesDatabaseClass))

typedef struct _TradeSimServicesDatabase TradeSimServicesDatabase;
typedef struct _TradeSimServicesDatabaseClass TradeSimServicesDatabaseClass;
typedef struct _TradeSimServicesDatabasePrivate TradeSimServicesDatabasePrivate;
enum  {
	TRADE_SIM_SERVICES_DATABASE_0_PROPERTY,
	TRADE_SIM_SERVICES_DATABASE_NUM_PROPERTIES
};
static GParamSpec* trade_sim_services_database_properties[TRADE_SIM_SERVICES_DATABASE_NUM_PROPERTIES];
#define _sqlite3_close0(var) ((var == NULL) ? NULL : (var = (sqlite3_close (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _sqlite3_finalize0(var) ((var == NULL) ? NULL : (var = (sqlite3_finalize (var), NULL)))

#define TRADE_SIM_SERVICES_TYPE_QUOTE_ITEM (trade_sim_services_quote_item_get_type ())
#define TRADE_SIM_SERVICES_QUOTE_ITEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TRADE_SIM_SERVICES_TYPE_QUOTE_ITEM, TradeSimServicesQuoteItem))
#define TRADE_SIM_SERVICES_QUOTE_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TRADE_SIM_SERVICES_TYPE_QUOTE_ITEM, TradeSimServicesQuoteItemClass))
#define TRADE_SIM_SERVICES_IS_QUOTE_ITEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TRADE_SIM_SERVICES_TYPE_QUOTE_ITEM))
#define TRADE_SIM_SERVICES_IS_QUOTE_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TRADE_SIM_SERVICES_TYPE_QUOTE_ITEM))
#define TRADE_SIM_SERVICES_QUOTE_ITEM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TRADE_SIM_SERVICES_TYPE_QUOTE_ITEM, TradeSimServicesQuoteItemClass))

typedef struct _TradeSimServicesQuoteItem TradeSimServicesQuoteItem;
typedef struct _TradeSimServicesQuoteItemClass TradeSimServicesQuoteItemClass;
typedef struct _TradeSimServicesQuoteItemPrivate TradeSimServicesQuoteItemPrivate;

#define TRADE_SIM_OBJECTS_TYPE_PROVIDER (trade_sim_objects_provider_get_type ())
#define TRADE_SIM_OBJECTS_PROVIDER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TRADE_SIM_OBJECTS_TYPE_PROVIDER, TradeSimObjectsProvider))
#define TRADE_SIM_OBJECTS_PROVIDER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TRADE_SIM_OBJECTS_TYPE_PROVIDER, TradeSimObjectsProviderClass))
#define TRADE_SIM_OBJECTS_IS_PROVIDER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TRADE_SIM_OBJECTS_TYPE_PROVIDER))
#define TRADE_SIM_OBJECTS_IS_PROVIDER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TRADE_SIM_OBJECTS_TYPE_PROVIDER))
#define TRADE_SIM_OBJECTS_PROVIDER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TRADE_SIM_OBJECTS_TYPE_PROVIDER, TradeSimObjectsProviderClass))

typedef struct _TradeSimObjectsProvider TradeSimObjectsProvider;
typedef struct _TradeSimObjectsProviderClass TradeSimObjectsProviderClass;
#define _g_array_unref0(var) ((var == NULL) ? NULL : (var = (g_array_unref (var), NULL)))

#define TRADE_SIM_OBJECTS_TYPE_TICKER (trade_sim_objects_ticker_get_type ())
#define TRADE_SIM_OBJECTS_TICKER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TRADE_SIM_OBJECTS_TYPE_TICKER, TradeSimObjectsTicker))
#define TRADE_SIM_OBJECTS_TICKER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TRADE_SIM_OBJECTS_TYPE_TICKER, TradeSimObjectsTickerClass))
#define TRADE_SIM_OBJECTS_IS_TICKER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TRADE_SIM_OBJECTS_TYPE_TICKER))
#define TRADE_SIM_OBJECTS_IS_TICKER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TRADE_SIM_OBJECTS_TYPE_TICKER))
#define TRADE_SIM_OBJECTS_TICKER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TRADE_SIM_OBJECTS_TYPE_TICKER, TradeSimObjectsTickerClass))

typedef struct _TradeSimObjectsTicker TradeSimObjectsTicker;
typedef struct _TradeSimObjectsTickerClass TradeSimObjectsTickerClass;
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _TradeSimServicesDatabase {
	GObject parent_instance;
	TradeSimServicesDatabasePrivate * priv;
};

struct _TradeSimServicesDatabaseClass {
	GObjectClass parent_class;
};

struct _TradeSimServicesDatabasePrivate {
	sqlite3* db;
	gchar* db_path;
};

struct _TradeSimServicesQuoteItem {
	GTypeInstance parent_instance;
	volatile int ref_count;
	TradeSimServicesQuoteItemPrivate * priv;
	gchar* ticker;
	gchar* time_frame_name;
	gchar* provider_name;
	GDateTime* date_time;
	gdouble open_price;
	gdouble close_price;
	gdouble min_price;
	gdouble max_price;
};

struct _TradeSimServicesQuoteItemClass {
	GTypeClass parent_class;
	void (*finalize) (TradeSimServicesQuoteItem *self);
};


static gpointer trade_sim_services_database_parent_class = NULL;

GType trade_sim_services_database_get_type (void) G_GNUC_CONST;
#define TRADE_SIM_SERVICES_DATABASE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TRADE_SIM_SERVICES_TYPE_DATABASE, TradeSimServicesDatabasePrivate))
TradeSimServicesDatabase* trade_sim_services_database_new (gboolean skip_tables);
TradeSimServicesDatabase* trade_sim_services_database_construct (GType object_type,
                                                                 gboolean skip_tables);
static gint trade_sim_services_database_create_tables (TradeSimServicesDatabase* self);
void trade_sim_services_database_insert_provider (TradeSimServicesDatabase* self,
                                                  const gchar* _name,
                                                  const gchar* folder_name);
gint trade_sim_services_database_insert_market (TradeSimServicesDatabase* self,
                                                const gchar* _name,
                                                const gchar* _folder_name);
void trade_sim_services_database_insert_ticker (TradeSimServicesDatabase* self,
                                                const gchar* _name,
                                                gint _market_id);
void trade_sim_services_database_insert_time_frames (TradeSimServicesDatabase* self,
                                                     const gchar* _name);
gint trade_sim_services_database_get_db_id_by_name (TradeSimServicesDatabase* self,
                                                    const gchar* db_table,
                                                    const gchar* _name);
gpointer trade_sim_services_quote_item_ref (gpointer instance);
void trade_sim_services_quote_item_unref (gpointer instance);
GParamSpec* trade_sim_services_param_spec_quote_item (const gchar* name,
                                                      const gchar* nick,
                                                      const gchar* blurb,
                                                      GType object_type,
                                                      GParamFlags flags);
void trade_sim_services_value_set_quote_item (GValue* value,
                                              gpointer v_object);
void trade_sim_services_value_take_quote_item (GValue* value,
                                               gpointer v_object);
gpointer trade_sim_services_value_get_quote_item (const GValue* value);
GType trade_sim_services_quote_item_get_type (void) G_GNUC_CONST;
void trade_sim_services_database_insert_quote (TradeSimServicesDatabase* self,
                                               TradeSimServicesQuoteItem* quote_item);
gint trade_sim_services_database_get_id_if_market_exists (TradeSimServicesDatabase* self,
                                                          const gchar* _name);
gboolean trade_sim_services_database_is_database_empty (TradeSimServicesDatabase* self);
gpointer trade_sim_objects_provider_ref (gpointer instance);
void trade_sim_objects_provider_unref (gpointer instance);
GParamSpec* trade_sim_objects_param_spec_provider (const gchar* name,
                                                   const gchar* nick,
                                                   const gchar* blurb,
                                                   GType object_type,
                                                   GParamFlags flags);
void trade_sim_objects_value_set_provider (GValue* value,
                                           gpointer v_object);
void trade_sim_objects_value_take_provider (GValue* value,
                                            gpointer v_object);
gpointer trade_sim_objects_value_get_provider (const GValue* value);
GType trade_sim_objects_provider_get_type (void) G_GNUC_CONST;
GArray* trade_sim_services_database_get_providers (TradeSimServicesDatabase* self);
TradeSimObjectsProvider* trade_sim_objects_provider_new (gint _id,
                                                         const gchar* _name,
                                                         const gchar* _folder_name);
TradeSimObjectsProvider* trade_sim_objects_provider_construct (GType object_type,
                                                               gint _id,
                                                               const gchar* _name,
                                                               const gchar* _folder_name);
gpointer trade_sim_objects_ticker_ref (gpointer instance);
void trade_sim_objects_ticker_unref (gpointer instance);
GParamSpec* trade_sim_objects_param_spec_ticker (const gchar* name,
                                                 const gchar* nick,
                                                 const gchar* blurb,
                                                 GType object_type,
                                                 GParamFlags flags);
void trade_sim_objects_value_set_ticker (GValue* value,
                                         gpointer v_object);
void trade_sim_objects_value_take_ticker (GValue* value,
                                          gpointer v_object);
gpointer trade_sim_objects_value_get_ticker (const GValue* value);
GType trade_sim_objects_ticker_get_type (void) G_GNUC_CONST;
GArray* trade_sim_services_database_get_tickers (TradeSimServicesDatabase* self);
TradeSimObjectsTicker* trade_sim_objects_ticker_new (gint _id,
                                                     const gchar* _name);
TradeSimObjectsTicker* trade_sim_objects_ticker_construct (GType object_type,
                                                           gint _id,
                                                           const gchar* _name);
static void trade_sim_services_database_finalize (GObject * obj);


TradeSimServicesDatabase*
trade_sim_services_database_construct (GType object_type,
                                       gboolean skip_tables)
{
	TradeSimServicesDatabase * self = NULL;
	gint rc = 0;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	const gchar* _tmp6_;
	sqlite3* _tmp7_ = NULL;
	gint _tmp8_;
	gint _tmp9_;
#line 8 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	self = (TradeSimServicesDatabase*) g_object_new (object_type, NULL);
#line 9 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	rc = 0;
#line 10 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp0_ = g_get_home_dir ();
#line 10 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp1_ = g_strconcat (_tmp0_, "/.local/share/com.github.horaciodrs.tradesim/database.db", NULL);
#line 10 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (self->priv->db_path);
#line 10 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	self->priv->db_path = _tmp1_;
#line 12 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	if (!skip_tables) {
#line 13 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		if (trade_sim_services_database_create_tables (self) != SQLITE_OK) {
#line 218 "Database.c"
			FILE* _tmp2_;
			gint _tmp3_;
			sqlite3* _tmp4_;
			const gchar* _tmp5_;
#line 14 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp2_ = stderr;
#line 14 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp3_ = rc;
#line 14 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp4_ = self->priv->db;
#line 14 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp5_ = sqlite3_errmsg (_tmp4_);
#line 14 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			fprintf (_tmp2_, "Error creating db table: %d, %s\n", _tmp3_, _tmp5_);
#line 15 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			gtk_main_quit ();
#line 235 "Database.c"
		}
	}
#line 19 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp6_ = self->priv->db_path;
#line 19 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp8_ = sqlite3_open (_tmp6_, &_tmp7_);
#line 19 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_close0 (self->priv->db);
#line 19 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	self->priv->db = _tmp7_;
#line 19 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	rc = _tmp8_;
#line 21 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp9_ = rc;
#line 21 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	if (_tmp9_ != SQLITE_OK) {
#line 252 "Database.c"
		FILE* _tmp10_;
		gint _tmp11_;
		sqlite3* _tmp12_;
		const gchar* _tmp13_;
#line 22 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp10_ = stderr;
#line 22 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp11_ = rc;
#line 22 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp12_ = self->priv->db;
#line 22 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp13_ = sqlite3_errmsg (_tmp12_);
#line 22 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		fprintf (_tmp10_, "Can't open database: %d, %s\n", _tmp11_, _tmp13_);
#line 23 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		gtk_main_quit ();
#line 269 "Database.c"
	}
#line 8 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	return self;
#line 273 "Database.c"
}


TradeSimServicesDatabase*
trade_sim_services_database_new (gboolean skip_tables)
{
#line 8 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	return trade_sim_services_database_construct (TRADE_SIM_SERVICES_TYPE_DATABASE, skip_tables);
#line 282 "Database.c"
}


static gint
_sqlite3_exec (sqlite3* self,
               const gchar* sql,
               sqlite3_callback callback,
               gpointer callback_target,
               gchar* * errmsg)
{
	gchar* _vala_errmsg = NULL;
	gint result = 0;
	const gchar* sqlite_errmsg = NULL;
	gint ec = 0;
	const gchar* _tmp0_ = NULL;
	gint _tmp1_;
	const gchar* _tmp4_;
#line 34 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	g_return_val_if_fail (self != NULL, 0);
#line 34 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	g_return_val_if_fail (sql != NULL, 0);
#line 36 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	_tmp1_ = sqlite3_exec (self, sql, callback, callback_target, (char**) (&_tmp0_));
#line 36 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	sqlite_errmsg = _tmp0_;
#line 36 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	ec = _tmp1_;
#line 37 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	if ((&_vala_errmsg) != NULL) {
#line 312 "Database.c"
		const gchar* _tmp2_;
		gchar* _tmp3_;
#line 38 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_tmp2_ = sqlite_errmsg;
#line 38 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_tmp3_ = g_strdup (_tmp2_);
#line 38 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_g_free0 (_vala_errmsg);
#line 38 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_vala_errmsg = _tmp3_;
#line 323 "Database.c"
	} else {
#line 40 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_g_free0 (_vala_errmsg);
#line 40 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_vala_errmsg = NULL;
#line 329 "Database.c"
	}
#line 42 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	_tmp4_ = sqlite_errmsg;
#line 42 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	sqlite3_free ((void*) _tmp4_);
#line 43 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	result = ec;
#line 43 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	if (errmsg) {
#line 43 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		*errmsg = _vala_errmsg;
#line 341 "Database.c"
	} else {
#line 43 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
		_g_free0 (_vala_errmsg);
#line 345 "Database.c"
	}
#line 43 "/usr/share/vala-0.40/vapi/sqlite3.vapi"
	return result;
#line 349 "Database.c"
}


static gint
trade_sim_services_database_create_tables (TradeSimServicesDatabase* self)
{
	gint result = 0;
	gint rc = 0;
	const gchar* _tmp0_;
	sqlite3* _tmp1_ = NULL;
	gint _tmp2_;
	gint _tmp3_;
	sqlite3* _tmp8_;
	sqlite3* _tmp9_;
	sqlite3* _tmp10_;
	sqlite3* _tmp11_;
	sqlite3* _tmp12_;
	sqlite3* _tmp13_;
	gint id_forex = 0;
#line 27 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 30 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp0_ = self->priv->db_path;
#line 30 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp2_ = sqlite3_open (_tmp0_, &_tmp1_);
#line 30 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_close0 (self->priv->db);
#line 30 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	self->priv->db = _tmp1_;
#line 30 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	rc = _tmp2_;
#line 32 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp3_ = rc;
#line 32 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	if (_tmp3_ != SQLITE_OK) {
#line 385 "Database.c"
		FILE* _tmp4_;
		gint _tmp5_;
		sqlite3* _tmp6_;
		const gchar* _tmp7_;
#line 33 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp4_ = stderr;
#line 33 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp5_ = rc;
#line 33 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp6_ = self->priv->db;
#line 33 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp7_ = sqlite3_errmsg (_tmp6_);
#line 33 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		fprintf (_tmp4_, "Can't open database: %d, %s\n", _tmp5_, _tmp7_);
#line 34 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		gtk_main_quit ();
#line 402 "Database.c"
	}
#line 37 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp8_ = self->priv->db;
#line 37 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	rc = _sqlite3_exec (_tmp8_, "CREATE TABLE IF NOT EXISTS providers (" "id             INTEGER PRIMARY KEY AUTOINCREMENT, " "name           TEXT    NOT NULL," "folder_name    TEXT    NOT NULL," "CONSTRAINT unique_provider UNIQUE (name))", NULL, NULL, NULL);
#line 42 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_debug ("Database.vala:42: Table provider created");
#line 44 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp9_ = self->priv->db;
#line 44 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	rc = _sqlite3_exec (_tmp9_, "CREATE TABLE IF NOT EXISTS markets (" "id             INTEGER PRIMARY KEY AUTOINCREMENT, " "name           TEXT    NOT NULL," "folder_name    TEXT    NOT NULL," "CONSTRAINT unique_market UNIQUE (name))", NULL, NULL, NULL);
#line 49 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_debug ("Database.vala:49: Table market created");
#line 51 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp10_ = self->priv->db;
#line 51 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	rc = _sqlite3_exec (_tmp10_, "CREATE TABLE IF NOT EXISTS tickers (" "id             INTEGER PRIMARY KEY AUTOINCREMENT, " "name           TEXT    NOT NULL," "market_id      INT     NOT NULL," "CONSTRAINT unique_ticker UNIQUE (name)," "FOREIGN KEY (market_id) REFERENCES markets (id) ON DELETE CASCADE)", NULL, NULL, NULL);
#line 57 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_debug ("Database.vala:57: Table tickers created");
#line 59 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp11_ = self->priv->db;
#line 59 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	rc = _sqlite3_exec (_tmp11_, "CREATE TABLE IF NOT EXISTS time_frames (" "id             INTEGER PRIMARY KEY AUTOINCREMENT, " "name           TEXT    NOT NULL," "CONSTRAINT unique_time_frame UNIQUE (name))", NULL, NULL, NULL);
#line 63 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_debug ("Database.vala:63: Table tickers created");
#line 65 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp12_ = self->priv->db;
#line 65 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	rc = _sqlite3_exec (_tmp12_, "CREATE TABLE IF NOT EXISTS quotes (" "id             INTEGER PRIMARY KEY AUTOINCREMENT, " "provider_id    INT     NOT NULL," "market_id      INT     NOT NULL," "ticker_id      INT     NOT NULL," "time_frame_id  INT     NOT NULL," "date_year      INT     NOT NULL," "date_month     INT     NOT NULL," "date_day       INT     NOT NULL," "date_hour      INT     NOT NULL," "date_minute    INT     NOT NULL," "price_open     REAL    NOT NULL," "price_close    REAL    NOT NULL," "price_max      REAL    NOT NULL," "price_min      REAL    NOT NULL)", NULL, NULL, NULL);
#line 82 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_debug ("Database.vala:82: Table tickers created");
#line 84 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp13_ = self->priv->db;
#line 84 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	rc = _sqlite3_exec (_tmp13_, "PRAGMA foreign_keys = ON;", NULL, NULL, NULL);
#line 86 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_provider (self, "EODATA", "EODATA");
#line 87 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_provider (self, "HistData.com", "HISTDATA");
#line 88 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_provider (self, "Tradingview.com", "TVIEW");
#line 90 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	id_forex = trade_sim_services_database_insert_market (self, "Forex", "");
#line 92 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_ticker (self, "EURUSD", id_forex);
#line 93 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_ticker (self, "USDJPY", id_forex);
#line 94 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_ticker (self, "GBPUSD", id_forex);
#line 95 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_ticker (self, "USDCHF", id_forex);
#line 96 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_ticker (self, "USDCAD", id_forex);
#line 98 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_time_frames (self, "D1");
#line 99 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_time_frames (self, "H4");
#line 100 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_time_frames (self, "H1");
#line 101 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_time_frames (self, "M30");
#line 102 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_time_frames (self, "M15");
#line 103 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_time_frames (self, "M5");
#line 104 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_insert_time_frames (self, "M1");
#line 106 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	result = rc;
#line 106 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	return result;
#line 474 "Database.c"
}


gint
trade_sim_services_database_get_db_id_by_name (TradeSimServicesDatabase* self,
                                               const gchar* db_table,
                                               const gchar* _name)
{
	gint result = 0;
	sqlite3_stmt* stmt = NULL;
	gchar* sql = NULL;
	gint res = 0;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	sqlite3* _tmp3_;
	const gchar* _tmp4_;
	sqlite3_stmt* _tmp5_ = NULL;
	gint _tmp6_;
	gint _tmp7_;
	sqlite3_stmt* _tmp8_;
	gchar* _tmp9_;
	GDestroyNotify _tmp10_;
	gint _tmp11_;
	sqlite3_stmt* _tmp12_;
#line 109 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 109 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_val_if_fail (db_table != NULL, 0);
#line 109 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_val_if_fail (_name != NULL, 0);
#line 114 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp0_ = g_strconcat ("SELECT COUNT (*) FROM ", db_table, NULL);
#line 114 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp1_ = _tmp0_;
#line 114 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp2_ = g_strconcat (_tmp1_, " WHERE name = ?;", NULL);
#line 114 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 114 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	sql = _tmp2_;
#line 114 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (_tmp1_);
#line 116 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp3_ = self->priv->db;
#line 116 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp4_ = sql;
#line 116 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp6_ = sqlite3_prepare_v2 (_tmp3_, _tmp4_, -1, &_tmp5_, NULL);
#line 116 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 116 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	stmt = _tmp5_;
#line 116 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = _tmp6_;
#line 117 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp7_ = res;
#line 117 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp7_ == SQLITE_OK, "res == Sqlite.OK");
#line 119 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp8_ = stmt;
#line 119 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp9_ = g_strdup (_name);
#line 119 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp10_ = g_free;
#line 119 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_text (_tmp8_, 1, _tmp9_, -1, _tmp10_);
#line 120 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp11_ = res;
#line 120 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp11_ == SQLITE_OK, "res == Sqlite.OK");
#line 122 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp12_ = stmt;
#line 122 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	if (sqlite3_step (_tmp12_) == SQLITE_ROW) {
#line 550 "Database.c"
		sqlite3_stmt* _tmp13_;
#line 123 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp13_ = stmt;
#line 123 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		if (sqlite3_column_int (_tmp13_, 0) > 0) {
#line 556 "Database.c"
			sqlite3_stmt* _tmp14_;
			gchar* _tmp15_;
			gchar* _tmp16_;
			gchar* _tmp17_;
			sqlite3* _tmp18_;
			const gchar* _tmp19_;
			sqlite3_stmt* _tmp20_ = NULL;
			gint _tmp21_;
			gint _tmp22_;
			sqlite3_stmt* _tmp23_;
			gchar* _tmp24_;
			GDestroyNotify _tmp25_;
			gint _tmp26_;
			sqlite3_stmt* _tmp27_;
#line 124 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp14_ = stmt;
#line 124 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			sqlite3_reset (_tmp14_);
#line 126 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp15_ = g_strconcat ("SELECT id FROM ", db_table, NULL);
#line 126 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp16_ = _tmp15_;
#line 126 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp17_ = g_strconcat (_tmp16_, " WHERE name = ?;", NULL);
#line 126 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_g_free0 (sql);
#line 126 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			sql = _tmp17_;
#line 126 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_g_free0 (_tmp16_);
#line 128 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp18_ = self->priv->db;
#line 128 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp19_ = sql;
#line 128 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp21_ = sqlite3_prepare_v2 (_tmp18_, _tmp19_, -1, &_tmp20_, NULL);
#line 128 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_sqlite3_finalize0 (stmt);
#line 128 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			stmt = _tmp20_;
#line 128 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			res = _tmp21_;
#line 129 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp22_ = res;
#line 129 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_vala_assert (_tmp22_ == SQLITE_OK, "res == Sqlite.OK");
#line 131 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp23_ = stmt;
#line 131 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp24_ = g_strdup (_name);
#line 131 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp25_ = g_free;
#line 131 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			res = sqlite3_bind_text (_tmp23_, 1, _tmp24_, -1, _tmp25_);
#line 132 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp26_ = res;
#line 132 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_vala_assert (_tmp26_ == SQLITE_OK, "res == Sqlite.OK");
#line 134 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp27_ = stmt;
#line 134 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			if (sqlite3_step (_tmp27_) == SQLITE_ROW) {
#line 619 "Database.c"
				sqlite3_stmt* _tmp28_;
#line 135 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_tmp28_ = stmt;
#line 135 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				result = sqlite3_column_int (_tmp28_, 0);
#line 135 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_g_free0 (sql);
#line 135 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_sqlite3_finalize0 (stmt);
#line 135 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				return result;
#line 631 "Database.c"
			} else {
				sqlite3* _tmp29_;
				sqlite3* _tmp30_;
				const gchar* _tmp31_;
#line 137 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_tmp29_ = self->priv->db;
#line 137 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_tmp30_ = self->priv->db;
#line 137 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_tmp31_ = sqlite3_errmsg (_tmp30_);
#line 137 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				g_warning ("Database.vala:137: Error: %d: %s", sqlite3_errcode (_tmp29_), _tmp31_);
#line 138 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				result = 0;
#line 138 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_g_free0 (sql);
#line 138 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_sqlite3_finalize0 (stmt);
#line 138 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				return result;
#line 652 "Database.c"
			}
		} else {
#line 141 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			result = 0;
#line 141 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_g_free0 (sql);
#line 141 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_sqlite3_finalize0 (stmt);
#line 141 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			return result;
#line 663 "Database.c"
		}
	} else {
#line 144 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		result = 0;
#line 144 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_g_free0 (sql);
#line 144 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_sqlite3_finalize0 (stmt);
#line 144 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		return result;
#line 674 "Database.c"
	}
#line 109 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 109 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 680 "Database.c"
}


void
trade_sim_services_database_insert_quote (TradeSimServicesDatabase* self,
                                          TradeSimServicesQuoteItem* quote_item)
{
	gint provider_id = 0;
	const gchar* _tmp0_;
	gint market_id = 0;
	gint ticker_id = 0;
	const gchar* _tmp1_;
	gint time_frame_id = 0;
	const gchar* _tmp2_;
	gint date_year = 0;
	GDateTime* _tmp3_;
	gint date_month = 0;
	GDateTime* _tmp4_;
	gint date_day = 0;
	GDateTime* _tmp5_;
	gint date_hour = 0;
	GDateTime* _tmp6_;
	gint date_minute = 0;
	GDateTime* _tmp7_;
	gdouble price_open = 0.0;
	gdouble _tmp8_;
	gdouble price_close = 0.0;
	gdouble _tmp9_;
	gdouble price_max = 0.0;
	gdouble _tmp10_;
	gdouble price_min = 0.0;
	gdouble _tmp11_;
	sqlite3_stmt* stmt = NULL;
	gchar* sql = NULL;
	gint res = 0;
	gchar* _tmp12_;
	sqlite3* _tmp13_;
	const gchar* _tmp14_;
	sqlite3_stmt* _tmp15_ = NULL;
	gint _tmp16_;
	gint _tmp17_;
	sqlite3_stmt* _tmp18_;
	gint _tmp19_;
	gint _tmp20_;
	sqlite3_stmt* _tmp21_;
	gint _tmp22_;
	gint _tmp23_;
	sqlite3_stmt* _tmp24_;
	gint _tmp25_;
	gint _tmp26_;
	sqlite3_stmt* _tmp27_;
	gint _tmp28_;
	gint _tmp29_;
	sqlite3_stmt* _tmp30_;
	gint _tmp31_;
	gint _tmp32_;
	sqlite3_stmt* _tmp33_;
	gint _tmp34_;
	gint _tmp35_;
	sqlite3_stmt* _tmp36_;
	gint _tmp37_;
	gint _tmp38_;
	sqlite3_stmt* _tmp39_;
	gint _tmp40_;
	gint _tmp41_;
	sqlite3_stmt* _tmp42_;
	gint _tmp43_;
	gint _tmp44_;
	sqlite3_stmt* _tmp45_;
	gdouble _tmp46_;
	gint _tmp47_;
	sqlite3_stmt* _tmp48_;
	gdouble _tmp49_;
	gint _tmp50_;
	sqlite3_stmt* _tmp51_;
	gdouble _tmp52_;
	gint _tmp53_;
	sqlite3_stmt* _tmp54_;
	gdouble _tmp55_;
	gint _tmp56_;
	sqlite3_stmt* _tmp57_;
	sqlite3_stmt* _tmp61_;
#line 148 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_if_fail (self != NULL);
#line 148 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_if_fail (quote_item != NULL);
#line 150 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp0_ = quote_item->provider_name;
#line 150 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	provider_id = trade_sim_services_database_get_db_id_by_name (self, "providers", _tmp0_);
#line 151 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	market_id = trade_sim_services_database_get_db_id_by_name (self, "markets", "Forex");
#line 152 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp1_ = quote_item->ticker;
#line 152 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	ticker_id = trade_sim_services_database_get_db_id_by_name (self, "tickers", _tmp1_);
#line 153 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp2_ = quote_item->time_frame_name;
#line 153 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	time_frame_id = trade_sim_services_database_get_db_id_by_name (self, "time_frames", _tmp2_);
#line 155 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp3_ = quote_item->date_time;
#line 155 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	date_year = g_date_time_get_year (_tmp3_);
#line 156 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp4_ = quote_item->date_time;
#line 156 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	date_month = g_date_time_get_month (_tmp4_);
#line 157 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp5_ = quote_item->date_time;
#line 157 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	date_day = g_date_time_get_day_of_month (_tmp5_);
#line 158 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp6_ = quote_item->date_time;
#line 158 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	date_hour = g_date_time_get_hour (_tmp6_);
#line 159 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp7_ = quote_item->date_time;
#line 159 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	date_minute = g_date_time_get_minute (_tmp7_);
#line 161 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp8_ = quote_item->open_price;
#line 161 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	price_open = _tmp8_;
#line 162 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp9_ = quote_item->close_price;
#line 162 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	price_close = _tmp9_;
#line 163 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp10_ = quote_item->max_price;
#line 163 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	price_max = _tmp10_;
#line 164 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp11_ = quote_item->min_price;
#line 164 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	price_min = _tmp11_;
#line 170 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp12_ = g_strdup (" INSERT OR IGNORE INTO quotes (\n" \
"              provider_id\n" \
"            , market_id\n" \
"            , ticker_id\n" \
"            , time_frame_id\n" \
"            , date_year\n" \
"            , date_month\n" \
"            , date_day\n" \
"            , date_hour\n" \
"            , date_minute\n" \
"            , price_open\n" \
"            , price_close\n" \
"            , price_max\n" \
"            , price_min\n" \
"            ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);  ");
#line 170 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 170 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	sql = _tmp12_;
#line 186 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp13_ = self->priv->db;
#line 186 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp14_ = sql;
#line 186 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp16_ = sqlite3_prepare_v2 (_tmp13_, _tmp14_, -1, &_tmp15_, NULL);
#line 186 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 186 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	stmt = _tmp15_;
#line 186 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = _tmp16_;
#line 187 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp17_ = res;
#line 187 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp17_ == SQLITE_OK, "res == Sqlite.OK");
#line 189 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp18_ = stmt;
#line 189 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp19_ = provider_id;
#line 189 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_int (_tmp18_, 1, _tmp19_);
#line 190 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp20_ = res;
#line 190 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp20_ == SQLITE_OK, "res == Sqlite.OK");
#line 192 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp21_ = stmt;
#line 192 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp22_ = market_id;
#line 192 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_int (_tmp21_, 2, _tmp22_);
#line 193 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp23_ = res;
#line 193 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp23_ == SQLITE_OK, "res == Sqlite.OK");
#line 195 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp24_ = stmt;
#line 195 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp25_ = ticker_id;
#line 195 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_int (_tmp24_, 3, _tmp25_);
#line 196 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp26_ = res;
#line 196 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp26_ == SQLITE_OK, "res == Sqlite.OK");
#line 198 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp27_ = stmt;
#line 198 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp28_ = time_frame_id;
#line 198 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_int (_tmp27_, 4, _tmp28_);
#line 199 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp29_ = res;
#line 199 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp29_ == SQLITE_OK, "res == Sqlite.OK");
#line 201 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp30_ = stmt;
#line 201 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp31_ = date_year;
#line 201 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_int (_tmp30_, 5, _tmp31_);
#line 202 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp32_ = res;
#line 202 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp32_ == SQLITE_OK, "res == Sqlite.OK");
#line 204 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp33_ = stmt;
#line 204 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp34_ = date_month;
#line 204 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_int (_tmp33_, 6, _tmp34_);
#line 205 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp35_ = res;
#line 205 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp35_ == SQLITE_OK, "res == Sqlite.OK");
#line 207 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp36_ = stmt;
#line 207 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp37_ = date_day;
#line 207 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_int (_tmp36_, 7, _tmp37_);
#line 208 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp38_ = res;
#line 208 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp38_ == SQLITE_OK, "res == Sqlite.OK");
#line 210 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp39_ = stmt;
#line 210 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp40_ = date_hour;
#line 210 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_int (_tmp39_, 8, _tmp40_);
#line 211 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp41_ = res;
#line 211 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp41_ == SQLITE_OK, "res == Sqlite.OK");
#line 213 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp42_ = stmt;
#line 213 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp43_ = date_minute;
#line 213 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_int (_tmp42_, 9, _tmp43_);
#line 214 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp44_ = res;
#line 214 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp44_ == SQLITE_OK, "res == Sqlite.OK");
#line 216 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp45_ = stmt;
#line 216 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp46_ = price_open;
#line 216 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_double (_tmp45_, 10, _tmp46_);
#line 217 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp47_ = res;
#line 217 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp47_ == SQLITE_OK, "res == Sqlite.OK");
#line 219 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp48_ = stmt;
#line 219 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp49_ = price_close;
#line 219 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_double (_tmp48_, 11, _tmp49_);
#line 220 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp50_ = res;
#line 220 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp50_ == SQLITE_OK, "res == Sqlite.OK");
#line 222 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp51_ = stmt;
#line 222 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp52_ = price_max;
#line 222 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_double (_tmp51_, 12, _tmp52_);
#line 223 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp53_ = res;
#line 223 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp53_ == SQLITE_OK, "res == Sqlite.OK");
#line 225 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp54_ = stmt;
#line 225 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp55_ = price_min;
#line 225 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_double (_tmp54_, 13, _tmp55_);
#line 226 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp56_ = res;
#line 226 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp56_ == SQLITE_OK, "res == Sqlite.OK");
#line 228 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp57_ = stmt;
#line 228 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	if (sqlite3_step (_tmp57_) != SQLITE_DONE) {
#line 973 "Database.c"
		sqlite3* _tmp58_;
		sqlite3* _tmp59_;
		const gchar* _tmp60_;
#line 229 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp58_ = self->priv->db;
#line 229 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp59_ = self->priv->db;
#line 229 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp60_ = sqlite3_errmsg (_tmp59_);
#line 229 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		g_warning ("Database.vala:229: Error: %d: %s", sqlite3_errcode (_tmp58_), _tmp60_);
#line 985 "Database.c"
	}
#line 232 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp61_ = stmt;
#line 232 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	sqlite3_reset (_tmp61_);
#line 148 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 148 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 995 "Database.c"
}


void
trade_sim_services_database_insert_provider (TradeSimServicesDatabase* self,
                                             const gchar* _name,
                                             const gchar* folder_name)
{
	sqlite3_stmt* stmt = NULL;
	gchar* sql = NULL;
	gint res = 0;
	gchar* _tmp0_;
	sqlite3* _tmp1_;
	const gchar* _tmp2_;
	sqlite3_stmt* _tmp3_ = NULL;
	gint _tmp4_;
	gint _tmp5_;
	sqlite3_stmt* _tmp6_;
	gchar* _tmp7_;
	GDestroyNotify _tmp8_;
	gint _tmp9_;
	sqlite3_stmt* _tmp10_;
	gchar* _tmp11_;
	GDestroyNotify _tmp12_;
	gint _tmp13_;
	sqlite3_stmt* _tmp14_;
	sqlite3_stmt* _tmp18_;
#line 236 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_if_fail (self != NULL);
#line 236 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_if_fail (_name != NULL);
#line 236 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_if_fail (folder_name != NULL);
#line 241 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp0_ = g_strdup (" INSERT OR IGNORE INTO providers (name, folder_name) VALUES (?, ?);  ");
#line 241 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 241 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	sql = _tmp0_;
#line 243 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp1_ = self->priv->db;
#line 243 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp2_ = sql;
#line 243 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp4_ = sqlite3_prepare_v2 (_tmp1_, _tmp2_, -1, &_tmp3_, NULL);
#line 243 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 243 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	stmt = _tmp3_;
#line 243 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = _tmp4_;
#line 244 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp5_ = res;
#line 244 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp5_ == SQLITE_OK, "res == Sqlite.OK");
#line 246 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp6_ = stmt;
#line 246 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp7_ = g_strdup (_name);
#line 246 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp8_ = g_free;
#line 246 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_text (_tmp6_, 1, _tmp7_, -1, _tmp8_);
#line 247 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp9_ = res;
#line 247 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp9_ == SQLITE_OK, "res == Sqlite.OK");
#line 249 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp10_ = stmt;
#line 249 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp11_ = g_strdup (folder_name);
#line 249 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp12_ = g_free;
#line 249 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_text (_tmp10_, 2, _tmp11_, -1, _tmp12_);
#line 250 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp13_ = res;
#line 250 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp13_ == SQLITE_OK, "res == Sqlite.OK");
#line 252 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp14_ = stmt;
#line 252 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	if (sqlite3_step (_tmp14_) != SQLITE_DONE) {
#line 1079 "Database.c"
		sqlite3* _tmp15_;
		sqlite3* _tmp16_;
		const gchar* _tmp17_;
#line 253 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp15_ = self->priv->db;
#line 253 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp16_ = self->priv->db;
#line 253 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp17_ = sqlite3_errmsg (_tmp16_);
#line 253 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		g_warning ("Database.vala:253: Error: %d: %s", sqlite3_errcode (_tmp15_), _tmp17_);
#line 1091 "Database.c"
	}
#line 256 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp18_ = stmt;
#line 256 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	sqlite3_reset (_tmp18_);
#line 236 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 236 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 1101 "Database.c"
}


void
trade_sim_services_database_insert_time_frames (TradeSimServicesDatabase* self,
                                                const gchar* _name)
{
	sqlite3_stmt* stmt = NULL;
	gchar* sql = NULL;
	gint res = 0;
	gchar* _tmp0_;
	sqlite3* _tmp1_;
	const gchar* _tmp2_;
	sqlite3_stmt* _tmp3_ = NULL;
	gint _tmp4_;
	gint _tmp5_;
	sqlite3_stmt* _tmp6_;
	gchar* _tmp7_;
	GDestroyNotify _tmp8_;
	gint _tmp9_;
	sqlite3_stmt* _tmp10_;
	sqlite3_stmt* _tmp14_;
#line 260 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_if_fail (self != NULL);
#line 260 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_if_fail (_name != NULL);
#line 265 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp0_ = g_strdup (" INSERT OR IGNORE INTO time_frames (name) VALUES (?);  ");
#line 265 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 265 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	sql = _tmp0_;
#line 267 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp1_ = self->priv->db;
#line 267 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp2_ = sql;
#line 267 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp4_ = sqlite3_prepare_v2 (_tmp1_, _tmp2_, -1, &_tmp3_, NULL);
#line 267 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 267 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	stmt = _tmp3_;
#line 267 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = _tmp4_;
#line 268 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp5_ = res;
#line 268 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp5_ == SQLITE_OK, "res == Sqlite.OK");
#line 270 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp6_ = stmt;
#line 270 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp7_ = g_strdup (_name);
#line 270 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp8_ = g_free;
#line 270 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_text (_tmp6_, 1, _tmp7_, -1, _tmp8_);
#line 271 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp9_ = res;
#line 271 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp9_ == SQLITE_OK, "res == Sqlite.OK");
#line 273 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp10_ = stmt;
#line 273 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	if (sqlite3_step (_tmp10_) != SQLITE_DONE) {
#line 1166 "Database.c"
		sqlite3* _tmp11_;
		sqlite3* _tmp12_;
		const gchar* _tmp13_;
#line 274 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp11_ = self->priv->db;
#line 274 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp12_ = self->priv->db;
#line 274 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp13_ = sqlite3_errmsg (_tmp12_);
#line 274 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		g_warning ("Database.vala:274: Error: %d: %s", sqlite3_errcode (_tmp11_), _tmp13_);
#line 1178 "Database.c"
	}
#line 277 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp14_ = stmt;
#line 277 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	sqlite3_reset (_tmp14_);
#line 260 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 260 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 1188 "Database.c"
}


void
trade_sim_services_database_insert_ticker (TradeSimServicesDatabase* self,
                                           const gchar* _name,
                                           gint _market_id)
{
	sqlite3_stmt* stmt = NULL;
	gchar* sql = NULL;
	gint res = 0;
	gchar* _tmp0_;
	sqlite3* _tmp1_;
	const gchar* _tmp2_;
	sqlite3_stmt* _tmp3_ = NULL;
	gint _tmp4_;
	gint _tmp5_;
	sqlite3_stmt* _tmp6_;
	gchar* _tmp7_;
	GDestroyNotify _tmp8_;
	gint _tmp9_;
	sqlite3_stmt* _tmp10_;
	gint _tmp11_;
	sqlite3_stmt* _tmp12_;
	sqlite3_stmt* _tmp16_;
#line 281 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_if_fail (self != NULL);
#line 281 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_if_fail (_name != NULL);
#line 286 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp0_ = g_strdup (" INSERT OR IGNORE INTO tickers (name, market_id) VALUES (?, ?);  ");
#line 286 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 286 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	sql = _tmp0_;
#line 288 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp1_ = self->priv->db;
#line 288 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp2_ = sql;
#line 288 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp4_ = sqlite3_prepare_v2 (_tmp1_, _tmp2_, -1, &_tmp3_, NULL);
#line 288 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 288 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	stmt = _tmp3_;
#line 288 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = _tmp4_;
#line 289 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp5_ = res;
#line 289 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp5_ == SQLITE_OK, "res == Sqlite.OK");
#line 291 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp6_ = stmt;
#line 291 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp7_ = g_strdup (_name);
#line 291 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp8_ = g_free;
#line 291 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_text (_tmp6_, 1, _tmp7_, -1, _tmp8_);
#line 292 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp9_ = res;
#line 292 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp9_ == SQLITE_OK, "res == Sqlite.OK");
#line 294 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp10_ = stmt;
#line 294 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_int (_tmp10_, 2, _market_id);
#line 295 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp11_ = res;
#line 295 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp11_ == SQLITE_OK, "res == Sqlite.OK");
#line 297 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp12_ = stmt;
#line 297 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	if (sqlite3_step (_tmp12_) != SQLITE_DONE) {
#line 1264 "Database.c"
		sqlite3* _tmp13_;
		sqlite3* _tmp14_;
		const gchar* _tmp15_;
#line 298 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp13_ = self->priv->db;
#line 298 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp14_ = self->priv->db;
#line 298 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp15_ = sqlite3_errmsg (_tmp14_);
#line 298 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		g_warning ("Database.vala:298: Error: %d: %s", sqlite3_errcode (_tmp13_), _tmp15_);
#line 1276 "Database.c"
	}
#line 301 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp16_ = stmt;
#line 301 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	sqlite3_reset (_tmp16_);
#line 281 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 281 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 1286 "Database.c"
}


gint
trade_sim_services_database_insert_market (TradeSimServicesDatabase* self,
                                           const gchar* _name,
                                           const gchar* _folder_name)
{
	gint result = 0;
	sqlite3_stmt* stmt = NULL;
	gchar* sql = NULL;
	gint res = 0;
	gchar* _tmp0_;
	sqlite3* _tmp1_;
	const gchar* _tmp2_;
	sqlite3_stmt* _tmp3_ = NULL;
	gint _tmp4_;
	gint _tmp5_;
	sqlite3_stmt* _tmp6_;
	gchar* _tmp7_;
	GDestroyNotify _tmp8_;
	gint _tmp9_;
	sqlite3_stmt* _tmp10_;
	gchar* _tmp11_;
	GDestroyNotify _tmp12_;
	gint _tmp13_;
	sqlite3_stmt* _tmp14_;
	sqlite3_stmt* _tmp18_;
#line 305 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 305 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_val_if_fail (_name != NULL, 0);
#line 305 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_val_if_fail (_folder_name != NULL, 0);
#line 310 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp0_ = g_strdup (" INSERT OR IGNORE INTO markets (name, folder_name) VALUES (?, ?);  ");
#line 310 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 310 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	sql = _tmp0_;
#line 312 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp1_ = self->priv->db;
#line 312 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp2_ = sql;
#line 312 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp4_ = sqlite3_prepare_v2 (_tmp1_, _tmp2_, -1, &_tmp3_, NULL);
#line 312 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 312 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	stmt = _tmp3_;
#line 312 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = _tmp4_;
#line 313 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp5_ = res;
#line 313 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp5_ == SQLITE_OK, "res == Sqlite.OK");
#line 315 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp6_ = stmt;
#line 315 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp7_ = g_strdup (_name);
#line 315 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp8_ = g_free;
#line 315 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_text (_tmp6_, 1, _tmp7_, -1, _tmp8_);
#line 316 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp9_ = res;
#line 316 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp9_ == SQLITE_OK, "res == Sqlite.OK");
#line 318 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp10_ = stmt;
#line 318 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp11_ = g_strdup (_folder_name);
#line 318 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp12_ = g_free;
#line 318 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_text (_tmp10_, 2, _tmp11_, -1, _tmp12_);
#line 319 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp13_ = res;
#line 319 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp13_ == SQLITE_OK, "res == Sqlite.OK");
#line 321 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp14_ = stmt;
#line 321 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	if (sqlite3_step (_tmp14_) != SQLITE_DONE) {
#line 1371 "Database.c"
		sqlite3* _tmp15_;
		sqlite3* _tmp16_;
		const gchar* _tmp17_;
#line 322 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp15_ = self->priv->db;
#line 322 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp16_ = self->priv->db;
#line 322 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp17_ = sqlite3_errmsg (_tmp16_);
#line 322 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		g_warning ("Database.vala:322: Error: %d: %s", sqlite3_errcode (_tmp15_), _tmp17_);
#line 1383 "Database.c"
	}
#line 325 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp18_ = stmt;
#line 325 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	sqlite3_reset (_tmp18_);
#line 327 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	result = trade_sim_services_database_get_id_if_market_exists (self, _name);
#line 327 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 327 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 327 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	return result;
#line 1397 "Database.c"
}


gint
trade_sim_services_database_get_id_if_market_exists (TradeSimServicesDatabase* self,
                                                     const gchar* _name)
{
	gint result = 0;
	sqlite3_stmt* stmt = NULL;
	gchar* sql = NULL;
	gint res = 0;
	gchar* _tmp0_;
	sqlite3* _tmp1_;
	const gchar* _tmp2_;
	sqlite3_stmt* _tmp3_ = NULL;
	gint _tmp4_;
	gint _tmp5_;
	sqlite3_stmt* _tmp6_;
	gchar* _tmp7_;
	GDestroyNotify _tmp8_;
	gint _tmp9_;
	sqlite3_stmt* _tmp10_;
#line 331 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 331 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_val_if_fail (_name != NULL, 0);
#line 336 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp0_ = g_strdup ("\n" \
"            SELECT COUNT (*) FROM markets WHERE name = ?;\n" \
"        ");
#line 336 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 336 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	sql = _tmp0_;
#line 340 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp1_ = self->priv->db;
#line 340 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp2_ = sql;
#line 340 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp4_ = sqlite3_prepare_v2 (_tmp1_, _tmp2_, -1, &_tmp3_, NULL);
#line 340 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 340 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	stmt = _tmp3_;
#line 340 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = _tmp4_;
#line 341 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp5_ = res;
#line 341 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp5_ == SQLITE_OK, "res == Sqlite.OK");
#line 343 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp6_ = stmt;
#line 343 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp7_ = g_strdup (_name);
#line 343 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp8_ = g_free;
#line 343 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = sqlite3_bind_text (_tmp6_, 1, _tmp7_, -1, _tmp8_);
#line 344 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp9_ = res;
#line 344 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp9_ == SQLITE_OK, "res == Sqlite.OK");
#line 346 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp10_ = stmt;
#line 346 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	if (sqlite3_step (_tmp10_) == SQLITE_ROW) {
#line 1462 "Database.c"
		sqlite3_stmt* _tmp11_;
#line 347 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp11_ = stmt;
#line 347 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		if (sqlite3_column_int (_tmp11_, 0) > 0) {
#line 1468 "Database.c"
			sqlite3_stmt* _tmp12_;
			gchar* _tmp13_;
			sqlite3* _tmp14_;
			const gchar* _tmp15_;
			sqlite3_stmt* _tmp16_ = NULL;
			gint _tmp17_;
			gint _tmp18_;
			sqlite3_stmt* _tmp19_;
			gchar* _tmp20_;
			GDestroyNotify _tmp21_;
			gint _tmp22_;
			sqlite3_stmt* _tmp23_;
#line 348 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp12_ = stmt;
#line 348 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			sqlite3_reset (_tmp12_);
#line 350 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp13_ = g_strdup ("\n" \
"                    SELECT id FROM markets WHERE name = ?;\n" \
"                ");
#line 350 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_g_free0 (sql);
#line 350 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			sql = _tmp13_;
#line 354 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp14_ = self->priv->db;
#line 354 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp15_ = sql;
#line 354 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp17_ = sqlite3_prepare_v2 (_tmp14_, _tmp15_, -1, &_tmp16_, NULL);
#line 354 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_sqlite3_finalize0 (stmt);
#line 354 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			stmt = _tmp16_;
#line 354 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			res = _tmp17_;
#line 355 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp18_ = res;
#line 355 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_vala_assert (_tmp18_ == SQLITE_OK, "res == Sqlite.OK");
#line 357 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp19_ = stmt;
#line 357 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp20_ = g_strdup (_name);
#line 357 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp21_ = g_free;
#line 357 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			res = sqlite3_bind_text (_tmp19_, 1, _tmp20_, -1, _tmp21_);
#line 358 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp22_ = res;
#line 358 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_vala_assert (_tmp22_ == SQLITE_OK, "res == Sqlite.OK");
#line 360 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_tmp23_ = stmt;
#line 360 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			if (sqlite3_step (_tmp23_) == SQLITE_ROW) {
#line 1523 "Database.c"
				sqlite3_stmt* _tmp24_;
#line 361 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_tmp24_ = stmt;
#line 361 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				result = sqlite3_column_int (_tmp24_, 0);
#line 361 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_g_free0 (sql);
#line 361 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_sqlite3_finalize0 (stmt);
#line 361 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				return result;
#line 1535 "Database.c"
			} else {
				sqlite3* _tmp25_;
				sqlite3* _tmp26_;
				const gchar* _tmp27_;
#line 363 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_tmp25_ = self->priv->db;
#line 363 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_tmp26_ = self->priv->db;
#line 363 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_tmp27_ = sqlite3_errmsg (_tmp26_);
#line 363 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				g_warning ("Database.vala:363: Error: %d: %s", sqlite3_errcode (_tmp25_), _tmp27_);
#line 364 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				result = 0;
#line 364 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_g_free0 (sql);
#line 364 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				_sqlite3_finalize0 (stmt);
#line 364 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
				return result;
#line 1556 "Database.c"
			}
		} else {
#line 367 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			result = 0;
#line 367 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_g_free0 (sql);
#line 367 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			_sqlite3_finalize0 (stmt);
#line 367 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			return result;
#line 1567 "Database.c"
		}
	} else {
#line 370 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		result = 0;
#line 370 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_g_free0 (sql);
#line 370 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_sqlite3_finalize0 (stmt);
#line 370 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		return result;
#line 1578 "Database.c"
	}
#line 331 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 331 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 1584 "Database.c"
}


gboolean
trade_sim_services_database_is_database_empty (TradeSimServicesDatabase* self)
{
	gboolean result = FALSE;
	gboolean empty = FALSE;
	sqlite3_stmt* stmt = NULL;
	gint res = 0;
	sqlite3* _tmp0_;
	sqlite3_stmt* _tmp1_ = NULL;
	gint _tmp2_;
	gint _tmp3_;
	sqlite3_stmt* _tmp4_;
#line 374 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 375 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	empty = FALSE;
#line 378 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp0_ = self->priv->db;
#line 378 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp2_ = sqlite3_prepare_v2 (_tmp0_, "SELECT COUNT (*) FROM quotes", -1, &_tmp1_, NULL);
#line 378 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 378 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	stmt = _tmp1_;
#line 378 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = _tmp2_;
#line 379 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp3_ = res;
#line 379 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp3_ == SQLITE_OK, "res == Sqlite.OK");
#line 381 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp4_ = stmt;
#line 381 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	if (sqlite3_step (_tmp4_) == SQLITE_ROW) {
#line 1622 "Database.c"
		sqlite3_stmt* _tmp5_;
#line 382 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp5_ = stmt;
#line 382 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		empty = sqlite3_column_int (_tmp5_, 0) <= 0;
#line 1628 "Database.c"
	}
#line 385 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	result = empty;
#line 385 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 385 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	return result;
#line 1636 "Database.c"
}


GArray*
trade_sim_services_database_get_providers (TradeSimServicesDatabase* self)
{
	GArray* result = NULL;
	sqlite3_stmt* stmt = NULL;
	gchar* sql = NULL;
	gint res = 0;
	gchar* _tmp0_;
	sqlite3* _tmp1_;
	const gchar* _tmp2_;
	sqlite3_stmt* _tmp3_ = NULL;
	gint _tmp4_;
	gint _tmp5_;
	GArray* all = NULL;
	GArray* _tmp6_;
#line 388 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 394 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp0_ = g_strdup (" SELECT id, name, folder_name FROM providers ORDER BY name DESC; ");
#line 394 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 394 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	sql = _tmp0_;
#line 396 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp1_ = self->priv->db;
#line 396 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp2_ = sql;
#line 396 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp4_ = sqlite3_prepare_v2 (_tmp1_, _tmp2_, -1, &_tmp3_, NULL);
#line 396 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 396 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	stmt = _tmp3_;
#line 396 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = _tmp4_;
#line 397 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp5_ = res;
#line 397 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp5_ == SQLITE_OK, "res == Sqlite.OK");
#line 399 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp6_ = g_array_new (TRUE, TRUE, sizeof (TradeSimObjectsProvider*));
#line 399 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	all = _tmp6_;
#line 401 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	while (TRUE) {
#line 1685 "Database.c"
		sqlite3_stmt* _tmp7_;
		gint _tmp8_;
		GArray* _tmp9_;
		sqlite3_stmt* _tmp10_;
		sqlite3_stmt* _tmp11_;
		const gchar* _tmp12_;
		sqlite3_stmt* _tmp13_;
		const gchar* _tmp14_;
		TradeSimObjectsProvider* _tmp15_;
#line 401 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp7_ = stmt;
#line 401 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		res = sqlite3_step (_tmp7_);
#line 401 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp8_ = res;
#line 401 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		if (!(_tmp8_ == SQLITE_ROW)) {
#line 401 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			break;
#line 1705 "Database.c"
		}
#line 402 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp9_ = all;
#line 402 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp10_ = stmt;
#line 402 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp11_ = stmt;
#line 402 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp12_ = (const gchar*) sqlite3_column_text (_tmp11_, 1);
#line 402 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp13_ = stmt;
#line 402 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp14_ = (const gchar*) sqlite3_column_text (_tmp13_, 2);
#line 402 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp15_ = trade_sim_objects_provider_new (sqlite3_column_int (_tmp10_, 0), _tmp12_, _tmp14_);
#line 402 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		g_array_append_val (_tmp9_, _tmp15_);
#line 1723 "Database.c"
	}
#line 405 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	result = all;
#line 405 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 405 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 405 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	return result;
#line 1733 "Database.c"
}


GArray*
trade_sim_services_database_get_tickers (TradeSimServicesDatabase* self)
{
	GArray* result = NULL;
	sqlite3_stmt* stmt = NULL;
	gchar* sql = NULL;
	gint res = 0;
	gchar* _tmp0_;
	sqlite3* _tmp1_;
	const gchar* _tmp2_;
	sqlite3_stmt* _tmp3_ = NULL;
	gint _tmp4_;
	gint _tmp5_;
	GArray* all = NULL;
	GArray* _tmp6_;
#line 408 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 414 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp0_ = g_strdup (" SELECT id, name FROM tickers ORDER BY name DESC; ");
#line 414 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 414 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	sql = _tmp0_;
#line 416 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp1_ = self->priv->db;
#line 416 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp2_ = sql;
#line 416 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp4_ = sqlite3_prepare_v2 (_tmp1_, _tmp2_, -1, &_tmp3_, NULL);
#line 416 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 416 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	stmt = _tmp3_;
#line 416 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	res = _tmp4_;
#line 417 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp5_ = res;
#line 417 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_vala_assert (_tmp5_ == SQLITE_OK, "res == Sqlite.OK");
#line 419 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_tmp6_ = g_array_new (TRUE, TRUE, sizeof (TradeSimObjectsTicker*));
#line 419 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	all = _tmp6_;
#line 421 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	while (TRUE) {
#line 1782 "Database.c"
		sqlite3_stmt* _tmp7_;
		gint _tmp8_;
		GArray* _tmp9_;
		sqlite3_stmt* _tmp10_;
		sqlite3_stmt* _tmp11_;
		const gchar* _tmp12_;
		TradeSimObjectsTicker* _tmp13_;
#line 421 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp7_ = stmt;
#line 421 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		res = sqlite3_step (_tmp7_);
#line 421 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp8_ = res;
#line 421 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		if (!(_tmp8_ == SQLITE_ROW)) {
#line 421 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
			break;
#line 1800 "Database.c"
		}
#line 422 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp9_ = all;
#line 422 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp10_ = stmt;
#line 422 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp11_ = stmt;
#line 422 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp12_ = (const gchar*) sqlite3_column_text (_tmp11_, 1);
#line 422 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		_tmp13_ = trade_sim_objects_ticker_new (sqlite3_column_int (_tmp10_, 0), _tmp12_);
#line 422 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
		g_array_append_val (_tmp9_, _tmp13_);
#line 1814 "Database.c"
	}
#line 425 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	result = all;
#line 425 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (sql);
#line 425 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_finalize0 (stmt);
#line 425 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	return result;
#line 1824 "Database.c"
}


static void
trade_sim_services_database_class_init (TradeSimServicesDatabaseClass * klass)
{
#line 1 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	trade_sim_services_database_parent_class = g_type_class_peek_parent (klass);
#line 1 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	g_type_class_add_private (klass, sizeof (TradeSimServicesDatabasePrivate));
#line 1 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	G_OBJECT_CLASS (klass)->finalize = trade_sim_services_database_finalize;
#line 1837 "Database.c"
}


static void
trade_sim_services_database_instance_init (TradeSimServicesDatabase * self)
{
#line 1 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	self->priv = TRADE_SIM_SERVICES_DATABASE_GET_PRIVATE (self);
#line 1846 "Database.c"
}


static void
trade_sim_services_database_finalize (GObject * obj)
{
	TradeSimServicesDatabase * self;
#line 1 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TRADE_SIM_SERVICES_TYPE_DATABASE, TradeSimServicesDatabase);
#line 3 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_sqlite3_close0 (self->priv->db);
#line 4 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	_g_free0 (self->priv->db_path);
#line 1 "/home/horacio/Vala/TradeSim/src/Services/Database.vala"
	G_OBJECT_CLASS (trade_sim_services_database_parent_class)->finalize (obj);
#line 1862 "Database.c"
}


GType
trade_sim_services_database_get_type (void)
{
	static volatile gsize trade_sim_services_database_type_id__volatile = 0;
	if (g_once_init_enter (&trade_sim_services_database_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (TradeSimServicesDatabaseClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) trade_sim_services_database_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (TradeSimServicesDatabase), 0, (GInstanceInitFunc) trade_sim_services_database_instance_init, NULL };
		GType trade_sim_services_database_type_id;
		trade_sim_services_database_type_id = g_type_register_static (G_TYPE_OBJECT, "TradeSimServicesDatabase", &g_define_type_info, 0);
		g_once_init_leave (&trade_sim_services_database_type_id__volatile, trade_sim_services_database_type_id);
	}
	return trade_sim_services_database_type_id__volatile;
}



